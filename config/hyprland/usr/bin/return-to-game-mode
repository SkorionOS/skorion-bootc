#!/bin/bash

if command -v waydroid &> /dev/null; then
  waydroid session stop
fi

rm /tmp/skorionos-short-session-tracker || true

if [ "$XDG_SESSION_TYPE" = "wayland" ]; then
  # SESSION_ID=$(loginctl session-status | head -n 1 | awk '{print $1}')
  # loginctl terminate-session $SESSION_ID
  # hyprctl dispatch exit
  loginctl terminate-user ""
else
  hyprland-session-oneshot
fi